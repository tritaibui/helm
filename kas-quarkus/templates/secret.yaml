{{- if .Values.secret.create }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.secret.name }}
  labels:
    app: {{ include "kas.name" . }}
type: Opaque
data:
  
  # Git
  connect.git.repository: {{ .Values.secret.git.repository | b64enc | quote }}
  connect.git.username: {{ .Values.secret.git.username | b64enc | quote }}
  connect.git.password: {{ .Values.secret.git.password | b64enc | quote }}
  connect.git.branch: {{ .Values.secret.git.branch | b64enc | quote }}

  # Container Registry
  connect.container-image.registry: {{ .Values.secret.containerImage.registry | b64enc | quote }}
  connect.container-image.group: {{ .Values.secret.containerImage.group | b64enc | quote }}
  {{- if .Values.secret.containerImage.registryUsername }}
  connect.container-image.registry-username: {{ .Values.secret.containerImage.registryUsername | b64enc | quote }}
  {{- else }}
  connect.container-image.registry-username: 
  {{- end }}

  {{- if .Values.secret.containerImage.registryPassword }}
  connect.container-image.registry-password: {{ .Values.secret.containerImage.registryPassword | b64enc | quote }}
  {{- else }}
  connect.container-image.registry-password:
  {{- end }}

  # Token
  agent.token: {{ .Values.secret.agent.token | b64enc | quote }}
    
  # Websocket
  websocket.url: {{ .Values.secret.websocket.url | b64enc | quote }}
  
{{- end }}